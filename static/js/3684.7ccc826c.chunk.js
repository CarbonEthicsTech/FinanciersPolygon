"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[3684],{49818:function(e,r,t){t.d(r,{Z:function(){return S}});var n,i=t(29439),a=t(37762),o=t(15671),l=t(43144),s=t(60136),u=t(29388),p=t(27366),f=t(59486),y=t(52639),c=t(43404),h=t(46784),v=t(84652),d=t(49861),m=(t(25243),t(38511)),g=t(69912),w=t(31201),Z=t(78952),_=t(77981),b=t(83040),x=new c.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),k=n=function(e){(0,s.Z)(t,e);var r=(0,u.Z)(t);function t(e){var n;return(0,o.Z)(this,t),(n=r.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,l.Z)(t,[{key:"readFeatures",value:function(e,r){for(var t=Z.Z.fromJSON(r.spatialReference),n=[],i=0;i<e.length;i++){var a=e[i],o=y.Z.fromJSON(a),l=a.geometry&&a.geometry.spatialReference;null==o.geometry||l||(o.geometry.spatialReference=t);var s=a.aggregateGeometries,u=o.aggregateGeometries;if(s&&null!=u)for(var p in u){var f=u[p],c=s[p],h=null===c||void 0===c?void 0:c.spatialReference;null==f||h||(f.spatialReference=t)}n.push(o)}return n}},{key:"writeGeometryType",value:function(e,r,t,n){if(e)x.write(e,r,t,n);else{var i=this.features;if(i){var o,l=(0,a.Z)(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(s&&null!=s.geometry)return void x.write(s.geometry.type,r,t,n)}}catch(u){l.e(u)}finally{l.f()}}}}},{key:"readQueryGeometry",value:function(e,r){if(!e)return null;var t=!!e.spatialReference,n=(0,_.im)(e);return n&&!t&&r.spatialReference&&(n.spatialReference=Z.Z.fromJSON(r.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,r){if(e)r.spatialReference=e.toJSON();else{var t=this.features;if(t){var n,i=(0,a.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o&&null!=o.geometry&&o.geometry.spatialReference)return void(r.spatialReference=o.geometry.spatialReference.toJSON())}}catch(l){i.e(l)}finally{i.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,v.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var r=this.write();if(r.features&&Array.isArray(e)&&e.length>0)for(var t=0;t<r.features.length;t++){var n=r.features[t];if(n.geometry){var i=e&&e[t];n.geometry=i&&i.toJSON()||n.geometry}}return r}},{key:"quantize",value:function(e){for(var r=(0,i.Z)(e.scale,2),t=r[0],n=r[1],a=(0,i.Z)(e.translate,2),o=a[0],l=a[1],s=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/t)}),(function(e){return Math.round((l-e)/n)})),p=0,f=s.length;p<f;p++)(null===u||void 0===u?void 0:u(s[p].geometry))||(s.splice(p,1),p--,f--);return this.transform=e,this}},{key:"unquantize",value:function(){var e,r,t=this.geometryType,n=this.features,o=this.transform;if(!o)return this;var l=(0,i.Z)(o.translate,2),s=l[0],u=l[1],p=(0,i.Z)(o.scale,2),f=p[0],y=p[1],c=null,h=null;if(this.hasZ&&null!=(null===o||void 0===o||null===(e=o.scale)||void 0===e?void 0:e[2])){var v=(0,i.Z)(o.translate,3)[2],d=(0,i.Z)(o.scale,3)[2];c=function(e){return e*d+v}}if(this.hasM&&null!=(null===o||void 0===o||null===(r=o.scale)||void 0===r?void 0:r[3])){var m=(0,i.Z)(o.translate,4)[3],g=(0,i.Z)(o.scale,4)[3];h=function(e){return null==e?e:e*g+m}}var w,Z=this._getHydrationFunction(t,(function(e){return e*f+s}),(function(e){return u-e*y}),c,h),_=(0,a.Z)(n);try{for(_.s();!(w=_.n()).done;){var b=w.value.geometry;null!=b&&Z&&Z(b)}}catch(x){_.e(x)}finally{_.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,r,t){for(var n,i,a=[],o=0,l=e.length;o<l;o++){var s=e[o];if(o>0){var u=r(s[0]),p=t(s[1]);u===n&&p===i||(a.push([u-n,p-i]),n=u,i=p)}else n=r(s[0]),i=t(s[1]),a.push([n,i])}return a.length>0?a:null}},{key:"_getQuantizationFunction",value:function(e,r,t){var n=this;return"point"===e?function(e){return e.x=r(e.x),e.y=t(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=(0,_.oU)(e)?e.rings:e.paths,a=[],o=0,l=i.length;o<l;o++){var s=i[o],u=n._quantizePoints(s,r,t);u&&a.push(u)}return a.length>0?((0,_.oU)(e)?e.rings=a:e.paths=a,e):null}:"multipoint"===e?function(e){var i=n._quantizePoints(e.points,r,t);return i&&i.length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,r,t,n,i){return"point"===e?function(e){e.x=r(e.x),e.y=t(e.y),n&&(e.z=n(e.z))}:"polyline"===e||"polygon"===e?function(e){for(var a,o,l=(0,_.oU)(e)?e.rings:e.paths,s=0,u=l.length;s<u;s++)for(var p=l[s],f=0,y=p.length;f<y;f++){var c=p[f];f>0?(a+=c[0],o+=c[1]):(a=c[0],o=c[1]),c[0]=r(a),c[1]=t(o)}if(n&&i)for(var h=0,v=l.length;h<v;h++)for(var d=l[h],m=0,g=d.length;m<g;m++){var w=d[m];w[2]=n(w[2]),w[3]=i(w[3])}else if(n)for(var Z=0,b=l.length;Z<b;Z++)for(var x=l[Z],k=0,S=x.length;k<S;k++){var T=x[k];T[2]=n(T[2])}else if(i)for(var R=0,C=l.length;R<C;R++)for(var G=l[R],P=0,V=G.length;P<V;P++){var M=G[P];M[2]=i(M[2])}}:"extent"===e?function(e){e.xmin=r(e.xmin),e.ymin=t(e.ymin),e.xmax=r(e.xmax),e.ymax=t(e.ymax),n&&null!=e.zmax&&null!=e.zmin&&(e.zmax=n(e.zmax),e.zmin=n(e.zmin)),i&&null!=e.mmax&&null!=e.mmin&&(e.mmax=i(e.mmax),e.mmin=i(e.mmin))}:"multipoint"===e?function(e){for(var a,o,l=e.points,s=0,u=l.length;s<u;s++){var p=l[s];s>0?(a+=p[0],o+=p[1]):(a=p[0],o=p[1]),p[0]=r(a),p[1]=t(o)}if(n&&i)for(var f=0,y=l.length;f<y;f++){var c=l[f];c[2]=n(c[2]),c[3]=i(c[3])}else if(n)for(var h=0,v=l.length;h<v;h++){var d=l[h];d[2]=n(d[2])}else if(i)for(var m=0,g=l.length;m<g;m++){var w=l[m];w[2]=i(w[2])}}:null}}]),t}(h.wq);(0,p._)([(0,d.Cb)({type:String,json:{write:!0}})],k.prototype,"displayFieldName",void 0),(0,p._)([(0,d.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],k.prototype,"exceededTransferLimit",void 0),(0,p._)([(0,d.Cb)({type:[y.Z],json:{write:!0}})],k.prototype,"features",void 0),(0,p._)([(0,m.r)("features")],k.prototype,"readFeatures",null),(0,p._)([(0,d.Cb)({type:[b.Z],json:{write:!0}})],k.prototype,"fields",void 0),(0,p._)([(0,d.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:x.read}}})],k.prototype,"geometryType",void 0),(0,p._)([(0,w.c)("geometryType")],k.prototype,"writeGeometryType",null),(0,p._)([(0,d.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],k.prototype,"hasM",void 0),(0,p._)([(0,d.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],k.prototype,"hasZ",void 0),(0,p._)([(0,d.Cb)({types:f.qM,json:{write:!0}})],k.prototype,"queryGeometry",void 0),(0,p._)([(0,m.r)("queryGeometry")],k.prototype,"readQueryGeometry",null),(0,p._)([(0,d.Cb)({type:Z.Z,json:{write:!0}})],k.prototype,"spatialReference",void 0),(0,p._)([(0,w.c)("spatialReference")],k.prototype,"writeSpatialReference",null),(0,p._)([(0,d.Cb)({json:{write:!0}})],k.prototype,"transform",void 0),(k=n=(0,p._)([(0,g.j)("esri.rest.support.FeatureSet")],k)).prototype.toJSON.isDefaultToJSON=!0;var S=k},53684:function(e,r,t){t.r(r),t.d(r,{default:function(){return x}});var n=t(74165),i=t(37762),a=t(15861),o=t(15671),l=t(43144),s=t(60136),u=t(29388),p=t(27366),f=t(44055),y=t(40281),c=t(94172),h=(t(32718),t(25243),t(63780),t(93169),t(10064),t(69912)),v=t(34999),d=t(9014),m=t(49818),g=t(95986),w=t(75391),Z=t(77318),_=t(67581),b=function(e){(0,s.Z)(t,e);var r=(0,u.Z)(t);function t(){var e;return(0,o.Z)(this,t),(e=r.apply(this,arguments))._graphicsViewMap={},e._popupTemplates=new Map,e.graphicsViews=[],e}return(0,l.Z)(t,[{key:"hitTest",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,o=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.graphicsViews.length){e.next=2;break}return e.abrupt("return",null);case 2:return a=this.layer,e.abrupt("return",this.graphicsViews.reverse().map((function(e){var t,n=o._popupTemplates.get(e),l=e.hitTest(r),s=(0,i.Z)(l);try{for(s.s();!(t=s.n()).done;){var u=t.value;u.layer=a,u.sourceLayer=a,u.popupTemplate=n}}catch(p){s.e(p)}finally{s.f()}return l})).flat().map((function(e){return{type:"graphic",graphic:e,layer:a,mapPoint:r}})));case 4:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"update",value:function(e){if(this.graphicsViews){var r,t=(0,i.Z)(this.graphicsViews);try{for(t.s();!(r=t.n()).done;){r.value.processUpdate(e)}}catch(n){t.e(n)}finally{t.f()}}}},{key:"attach",value:function(){var e=this;this.addAttachHandles([(0,c.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.featureCollections}),(function(r){e._clear();var t,n=(0,i.Z)(r);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=a.popupInfo,l=a.featureSet,s=a.layerDefinition,u=m.Z.fromJSON(l),p=new y.Z(u.features),c=s.drawingInfo,h=o?f.Z.fromJSON(o):null,v=(0,d.i)(c.renderer),g=new Z.Z({requestUpdateCallback:function(){return e.requestUpdate()},view:e.view,graphics:p,renderer:v,container:new w.Z(e.view.featuresTilingScheme)});e._graphicsViewMap[u.geometryType]=g,e._popupTemplates.set(g,h),"polygon"!==u.geometryType||e.layer.polygonSymbol?"polyline"!==u.geometryType||e.layer.lineSymbol?"point"!==u.geometryType||e.layer.pointSymbol||(e.layer.pointSymbol=v.symbol):e.layer.lineSymbol=v.symbol:e.layer.polygonSymbol=v.symbol,e.graphicsViews.push(g),e.container.addChild(g.container)}}catch(_){n.e(_)}finally{n.f()}}),c.nn),(0,c.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.polygonSymbol}),(function(r){e._graphicsViewMap.polygon.renderer=new v.Z({symbol:r})}),c.nn),(0,c.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.lineSymbol}),(function(r){e._graphicsViewMap.polyline.renderer=new v.Z({symbol:r})}),c.nn),(0,c.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.pointSymbol}),(function(r){e._graphicsViewMap.point.renderer=new v.Z({symbol:r})}),c.nn)])}},{key:"detach",value:function(){this._clear()}},{key:"moveStart",value:function(){}},{key:"moveEnd",value:function(){}},{key:"viewChange",value:function(){var e,r=(0,i.Z)(this.graphicsViews);try{for(r.s();!(e=r.n()).done;){e.value.viewChange()}}catch(t){r.e(t)}finally{r.f()}}},{key:"_clear",value:function(){this.container.removeAllChildren();var e,r=(0,i.Z)(this.graphicsViews);try{for(r.s();!(e=r.n()).done;){e.value.destroy()}}catch(t){r.e(t)}finally{r.f()}this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}}]),t}((0,g.y)(_.Z)),x=b=(0,p._)([(0,h.j)("esri.views.2d.layers.GeoRSSLayerView2D")],b)},75391:function(e,r,t){t.d(r,{Z:function(){return p}});var n=t(15671),i=t(43144),a=t(11752),o=t(61120),l=t(60136),s=t(29388),u=t(80613),p=function(e){(0,l.Z)(t,e);var r=(0,s.Z)(t);function t(){return(0,n.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"renderChildren",value:function(e){this.attributeView.update(),this.children.some((function(e){return e.hasData}))&&(this.attributeView.bindTextures(e.context,!1),(0,a.Z)((0,o.Z)(t.prototype),"renderChildren",this).call(this,e),e.drawPhase===u.jx.MAP&&this._renderChildren(e),this.hasHighlight()&&e.drawPhase===u.jx.HIGHLIGHT&&this._renderHighlight(e),this._boundsRenderer&&this._boundsRenderer.doRender(e))}},{key:"_renderHighlight",value:function(e){var r=e.painter.effects.highlight;r.bind(e),this._renderChildren(e,r.defines),r.draw(e),r.unbind()}}]),t}(t(82022).Z)}}]);
//# sourceMappingURL=3684.7ccc826c.chunk.js.map