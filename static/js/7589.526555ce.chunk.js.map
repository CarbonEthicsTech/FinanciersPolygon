{"version":3,"file":"static/js/7589.526555ce.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/renderers/support/heatmapUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/GroupContainer.js","../node_modules/@arcgis/core/views/layers/GroupLayerView.js","../node_modules/@arcgis/core/views/2d/layers/GroupLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{px2pt as r,pt2px as n}from\"../../core/screenUtils.js\";import{l as o}from\"../../chunks/vec4.js\";import{c as e}from\"../../chunks/vec4f64.js\";const a=2.4;function i(t){return r(t*a)}function c(t){return n(t)/a}function f(r,n,e,a){let{color:i,ratio:c}=n,{color:f,ratio:u}=e;if(u===c){const t=1e-6;1===u?c-=t:u+=t}const s=t((a-c)/(u-c),0,1);o(r,i.toArray(),f.toArray(),s)}function u(t){const r=512,n=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n;let o=t[0],a=t[0],i=1;const c=e();for(let e=0;e<r;e++){const u=(e+.5)/r;for(;u>a.ratio&&i<t.length;)o=a,a=t[i++];f(c,o,a,u),n.set(c,4*e)}return n}function s(t,r,o,e){const{radius:a,fieldOffset:i,field:c}=r,f=Math.round(n(a)),u=new Float64Array(o*e);let s,l=Number.NEGATIVE_INFINITY;const h=d(c,i),y=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(y.has(r))continue;y.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+h(t),c=Math.max(0,Math.round(n.x)-f),d=Math.max(0,Math.round(n.y)-f),g=Math.min(e,Math.round(n.y)+f),A=Math.min(o,Math.round(n.x)+f);for(let t=d;t<g;t++)for(let r=c;r<A;r++){const e=t*o+r,a=m(n.x-r,n.y-t,f);s=u[e]+=a*i,s>l&&(l=s)}}}return{matrix:u.buffer,max:l}}function l(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0)}function h(r,n,o,e,a){const i=new Uint32Array(r*r),c=\"buffer\"in n?n:new Float64Array(n),f=\"buffer\"in o?new Uint32Array(o.buffer):new Uint32Array(new Uint8Array(o).buffer),u=f.length/(a-e);for(let s=0;s<c.length;s++){const r=c[s],n=Math.floor((r-e)*u);i[s]=f[t(n,0,f.length-1)]}return i.buffer}function m(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function y(t,r){return\"function\"==typeof t?t:t?\"string\"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function d(t,r){return null!=t?\"string\"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}export{a as MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR,s as calculateHeatmapIntensityInfoReaders,h as createHeatmapImageData,y as createValueFunction,d as createValueFunctionCursor,l as drawHeatmap,m as evaluateDensityKernel,i as gaussianBlurRadiusPxToKernelDensityRadiusPt,u as generateGradient,c as kernelDensityRadiusPtToGaussianBlurRadiusPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"./WGLContainer.js\";import{TextureSamplingMode as t}from\"../../../webgl/enums.js\";class r extends e{constructor(){super(...arguments),this._prevFBO=void 0,this.requiresDedicatedFBO=!1}dispose(){}doRender(e){const r=this.createRenderParams(e),{context:o,painter:s,profiler:n}=r;this._prevFBO=o.getBoundFramebufferObject(),n.recordContainerStart(this.name);const i=this._getFbo(r),a=s.getRenderTarget();o.bindFramebuffer(i),s.setRenderTarget(i),o.setDepthWriteEnabled(!0),o.setColorMask(!0,!0,!0,!0),o.setClearColor(0,0,0,0),o.setClearDepth(1),o.clear(o.gl.COLOR_BUFFER_BIT|o.gl.DEPTH_BUFFER_BIT),o.setDepthWriteEnabled(!1);for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(r);for(const t of this.children)t.afterRender(e);s.setRenderTarget(a),s.releaseFbo(i),o.bindFramebuffer(this._prevFBO),s.beforeRenderLayer(r,this._clippingInfos?255:0,this.computedOpacity),i.colorTexture&&(o.setStencilTestEnabled(!1),o.setStencilWriteMask(0),s.blitTexture(o,i.colorTexture,t.NEAREST)),s.compositeLayer(r,this.computedOpacity),n.recordContainerEnd()}createRenderParams(e){return{...super.createRenderParams(e),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}}_getFbo(e){const{context:t,painter:r}=e,{width:o,height:s}=t.getViewport();return r.acquireFbo(o,s)}}export{r as GroupContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{referenceSetter as s,castForReferenceSetter as r}from\"../../core/collectionUtils.js\";import{watch as t,sync as l}from\"../../core/reactiveUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./LayerView.js\";let h=class extends o{constructor(i){super(i),this.type=\"group\",this.layerViews=new e}destroy(){this.handles.removeAll(),this.layerViews.length=0}_allLayerViewVisibility(i){this.layerViews.forEach((e=>{e.visible=i}))}initialize(){this.handles.add([this.layerViews.on(\"change\",(i=>this._layerViewsChangeHandler(i))),t((()=>this.layer?.visibilityMode),(()=>{this.layer&&this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(null)))}),l),t((()=>this.visible),(i=>{this._applyVisibility((()=>this._allLayerViewVisibility(i)),(()=>{}))}),l)],\"grouplayerview\"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(i){this._set(\"layerViews\",s(i,this._get(\"layerViews\")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((i,e)=>i+e.updatingProgress),0)/this.layerViews.length}isUpdating(){return this.layerViews.some((i=>i.updating))}_hasLayerViewVisibleOverrides(){return this.layerViews.some((i=>i._isOverridden(\"visible\")))}_findLayerViewForLayer(i){return i&&this.layerViews.find((e=>e.layer===i))}_firstVisibleOnLayerOrder(){const i=this.layer.layers.find((i=>{const e=this._findLayerViewForLayer(i);return!!e?.visible}));return i&&this._findLayerViewForLayer(i)}_applyExclusiveVisibility(i){null==i&&null==(i=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(i=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach((e=>{e.visible=e===i}))}_layerViewsChangeHandler(i){this.handles.remove(\"grouplayerview:visible\"),this.handles.add(this.layerViews.map((i=>t((()=>i.visible),(e=>this._applyVisibility((()=>{e!==this.visible&&(i.visible=this.visible)}),(()=>this._applyExclusiveVisibility(e?i:null)))),l))).toArray(),\"grouplayerview:visible\");const e=i.added[i.added.length-1];this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(e?.visible?e:null)))}_applyVisibility(i,e){this._hasLayerViewVisibleOverrides()&&(\"inherited\"===this.layer?.visibilityMode?i():\"exclusive\"===this.layer?.visibilityMode&&e())}};i([a({cast:r})],h.prototype,\"layerViews\",null),i([a({readOnly:!0})],h.prototype,\"updatingProgress\",null),i([a()],h.prototype,\"view\",void 0),h=i([y(\"esri.views.layers.GroupLayerView\")],h);const n=h;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/Error.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GroupContainer as t}from\"../engine/webgl/GroupContainer.js\";import{LayerView2DMixin as s}from\"./LayerView2D.js\";import o from\"../../layers/GroupLayerView.js\";let a=class extends(s(o)){constructor(){super(...arguments),this.container=new t}attach(){this._updateStageChildren(),this.addAttachHandles(this.layerViews.on(\"after-changes\",(()=>this._updateStageChildren())))}detach(){this.container.removeAllChildren()}update(e){}moveStart(){}viewChange(){}moveEnd(){}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach(((e,r)=>this.container.addChildAt(e.container,r)))}};a=e([r(\"esri.views.2d.layers.GroupLayerView2D\")],a);const i=a;export{i as default};\n"],"names":["a","i","t","r","c","n","f","e","color","ratio","u","s","o","toArray","Uint8ClampedArray","filter","_ref","sort","map","_ref2","Math","max","length","set","_step","radius","fieldOffset","field","round","Float64Array","l","Number","NEGATIVE_INFINITY","h","readAttribute","d","y","Set","_iterator","_createForOfIteratorHelper","done","value","getCursor","next","getObjectId","has","add","readLegacyPointGeometry","x","g","min","A","m","err","matrix","buffer","canvas","width","height","clearRect","getImageData","data","Uint32Array","Uint8Array","floor","putImageData","sqrt","pow","PI","_e","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","_prevFBO","requiresDedicatedFBO","_createClass","key","this","createRenderParams","context","painter","profiler","getBoundFramebufferObject","recordContainerStart","name","_getFbo","getRenderTarget","bindFramebuffer","setRenderTarget","setDepthWriteEnabled","setColorMask","setClearColor","setClearDepth","clear","gl","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","children","beforeRender","_step2","_iterator2","processRender","_step3","_iterator3","afterRender","releaseFbo","beforeRenderLayer","_clippingInfos","computedOpacity","colorTexture","setStencilTestEnabled","setStencilWriteMask","blitTexture","NEAREST","compositeLayer","recordContainerEnd","_objectSpread","_get","_getPrototypeOf","prototype","call","blendMode","effects","computedEffects","globalOpacity","_t$getViewport","getViewport","acquireFbo","_o","type","layerViews","handles","removeAll","forEach","visible","_this2","on","_layerViewsChangeHandler","_this2$layer","layer","visibilityMode","_applyVisibility","_allLayerViewVisibility","_applyExclusiveVisibility","target","added","removed","moved","_set","get","reduce","updatingProgress","some","updating","_isOverridden","find","_this3","layers","_findLayerViewForLayer","_firstVisibleOnLayerOrder","at","_this4","remove","_this$layer","_this$layer2","_hasLayerViewVisibleOverrides","cast","readOnly","_s","container","_updateStageChildren","addAttachHandles","removeAllChildren","addChildAt"],"sourceRoot":""}