"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[7663],{27811:function(n,e,t){t.d(e,{AJ:function(){return f},If:function(){return v},QM:function(){return m},hy:function(){return p},k0:function(){return s},nu:function(){return l},uI:function(){return d},wx:function(){return h}});var r=t(37762),a=t(16889),i=t(17842),o=t(90045),u=t(67077),l=2.4;function s(n){return(0,i.Wz)(n*l)}function f(n){return(0,i.F2)(n)/l}function c(n,e,t,r){var i=e.color,u=e.ratio,l=t.color,s=t.ratio;if(s===u){var f=1e-6;1===s?u-=f:s+=f}var c=(0,a.uZ)((r-u)/(s-u),0,1);(0,o.l)(n,i.toArray(),l.toArray(),c)}function d(n){var e=new Uint8ClampedArray(2048);if(n=n.filter((function(n){var e=n.ratio;return e>=0&&e<=1})).sort((function(n,e){return n.ratio-e.ratio})).map((function(n){var e=n.color,t=n.ratio;return{color:e,ratio:Math.max(t,.001)}})),n.length<1)return e;for(var t=n[0],r=n[0],a=1,i=(0,u.c)(),o=0;o<512;o++){for(var l=(o+.5)/512;l>r.ratio&&a<n.length;)t=r,r=n[a++];c(i,t,r,l),e.set(i,4*o)}return e}function m(n,e,t,a){var o,u,l=e.radius,s=e.fieldOffset,f=e.field,c=Math.round((0,i.F2)(l)),d=new Float64Array(t*a),m=Number.NEGATIVE_INFINITY,p=function(n,e){return null!=n?"string"==typeof e?function(e){return-1*+e.readAttribute(n)}:function(t){return+t.readAttribute(n)+e}:function(n){return 1}}(f,s),h=new Set,y=(0,r.Z)(n);try{for(y.s();!(u=y.n()).done;)for(var x=u.value.getCursor();x.next();){var w=x.getObjectId();if(!h.has(w)){h.add(w);var I=x.readLegacyPointGeometry(),b=128;if(!(I.x<-b||I.x>=t+b||I.y<-b||I.y>a+b))for(var M=+p(x),z=Math.max(0,Math.round(I.x)-c),g=Math.max(0,Math.round(I.y)-c),T=Math.min(a,Math.round(I.y)+c),F=Math.min(t,Math.round(I.x)+c),Z=g;Z<T;Z++)for(var k=z;k<F;k++){var V=Z*t+k,A=v(I.x-k,I.y-Z,c);(o=d[V]+=A*M)>m&&(m=o)}}}}catch(E){y.e(E)}finally{y.f()}return{matrix:d.buffer,max:m}}function p(n,e,t,r,i,o){n.canvas.width=n.canvas.height=e,n.clearRect(0,0,e,e);var u=n.getImageData(0,0,e,e);t&&r&&u.data.set(new Uint8ClampedArray(function(n,e,t,r,i){for(var o=new Uint32Array(n*n),u=("buffer"in e?e:new Float64Array(e)),l=("buffer"in t?new Uint32Array(t.buffer):new Uint32Array(new Uint8Array(t).buffer)),s=l.length/(i-r),f=0;f<u.length;f++){var c=u[f],d=Math.floor((c-r)*s);o[f]=l[(0,a.uZ)(d,0,l.length-1)]}return o.buffer}(e,t,r,i,o))),n.putImageData(u,0,0)}function v(n,e,t){var r=Math.sqrt(Math.pow(n,2)+Math.pow(e,2))/t;return r>1?0:3/(Math.PI*Math.pow(t,2))*Math.pow(1-Math.pow(r,2),2)}function h(n,e){return"function"==typeof n?n:n?"string"==typeof e?function(e){return-1*+e[n]}:function(t){return+t[n]+e}:function(){return 1}}},57663:function(n,e,t){t.r(e),t.d(e,{classBreaks:function(){return g},heatmapStatistics:function(){return k},histogram:function(){return F},summaryStatistics:function(){return I},uniqueValues:function(){return M}});var r=t(74165),a=t(15861),i=t(1413),o=t(37762),u=(t(59486),t(10064),t(17842)),l=t(78952),s=t(58971),f=t(92975),c=(t(37270),t(27811)),d=t(71486),m=t(819),p=t(585),v=null;function h(n,e,t,r){var a=(0,f.MP)(t)?(0,f.C5)(t):null,i=a?Math.round((a.valid[1]-a.valid[0])/e.scale[0]):null;return n.map((function(n){var t=new p.Z(n.geometry);return(0,s.RF)(e,t,t,t.hasZ,t.hasM),n.geometry=a?function(n,e,t){return n.x<0?n.x+=e:n.x>t&&(n.x-=e),n}(t,null!==i&&void 0!==i?i:0,r[0]):t,n}))}function y(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,l=new Float64Array(a*i);e=Math.round((0,u.F2)(e));var s,f=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,m=0,p=0,v=0,h=0,y=(0,c.wx)(r,t),x=(0,o.Z)(n);try{for(x.s();!(s=x.n()).done;)for(var w=s.value,I=w.geometry,b=w.attributes,M=I.x,z=I.y,g=Math.max(0,M-e),T=Math.max(0,z-e),F=Math.min(i,z+e),Z=Math.min(a,M+e),k=+y(b),V=T;V<F;V++)for(var A=g;A<Z;A++){var E=V*a+A,C=(0,c.If)(A-M,V-z,e),D=l[E],P=(m=l[E]+=C*k)-D;p+=P,v+=P*P,m<f&&(f=m),m>d&&(d=m),h++}}catch(S){x.e(S)}finally{x.f()}if(!h)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};var N=(d-f)/2;return{mean:p/h,stdDev:Math.sqrt((v-p*p/h)/h),min:f,max:d,mid:N,count:h}}function x(n,e){return w.apply(this,arguments)}function w(){return w=(0,a.Z)((0,r.Z)().mark((function n(e,t){var a,o,u,s,f,c,p,h,y,x,w,I,b,M,z,g;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",[]);case 2:if(a=e.field,o=e.field2,u=e.field3,s=e.fieldDelimiter,f=e.valueExpression,c=e.normalizationType,p=e.normalizationField,h=e.normalizationTotal,y=[],x=e.viewInfoParams,w=null,I=null,!f){n.next=17;break}if(v){n.next=11;break}return n.next=8,(0,m.LC)();case 8:b=n.sent,M=b.arcadeUtils,v=M;case 11:if(n.t0=v.hasGeometryOperations(f),!n.t0){n.next=15;break}return n.next=15,v.enableGeometryOperations();case 15:w=v.createFunction(f),I=x&&v.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:new l.Z(x.spatialReference)});case 17:return z=e.fieldInfos,g=t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass||!z?null:{fields:z},n.abrupt("return",(t.forEach((function(n){var e,t=n.attributes;if(f){var r=g?(0,i.Z)((0,i.Z)({},n),{},{layer:g}):n,l=v.createExecContext(r,I);e=v.executeFunction(w,l)}else t&&(e=t[a],o&&(e="".concat((0,d.wk)(e)).concat(s).concat((0,d.wk)(t[o])),u&&(e="".concat(e).concat(s).concat((0,d.wk)(t[u])))));if(c&&"number"==typeof e&&isFinite(e)){var m=t&&parseFloat(t[p]);e=(0,d.fk)(e,c,m,h)}y.push(e)})),y));case 19:case"end":return n.stop()}}),n)}))),w.apply(this,arguments)}function I(n){return b.apply(this,arguments)}function b(){return b=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a,i,o,u,l,s,f,c,m,p;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.attribute,a=e.features,i=t.normalizationType,o=t.normalizationField,u=t.minValue,l=t.maxValue,s=t.fieldType,n.next=9,x({field:t.field,valueExpression:t.valueExpression,normalizationType:i,normalizationField:o,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},a);case 9:return f=n.sent,c=(0,d.S5)({normalizationType:i,normalizationField:o,minValue:u,maxValue:l}),m={value:.5,fieldType:s},p="esriFieldTypeString"===s?(0,d.H0)({values:f,supportsNullCount:c,percentileParams:m}):(0,d.i5)({values:f,minValue:u,maxValue:l,useSampleStdDev:!i,supportsNullCount:c,percentileParams:m}),n.abrupt("return",(0,d.F_)(p,"esriFieldTypeDate"===s));case 14:case"end":return n.stop()}}),n)}))),b.apply(this,arguments)}function M(n){return z.apply(this,arguments)}function z(){return(z=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a,i,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.attribute,a=e.features,n.next=4,x({field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},a);case 4:return i=n.sent,o=(0,d.eT)(i),n.abrupt("return",(0,d.Qm)(o,t.domains,t.returnAllCodedValues,t.fieldDelimiter));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return T.apply(this,arguments)}function T(){return T=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a,i,o,u,l,s,f,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.attribute,a=e.features,i=t.field,o=t.normalizationType,u=t.normalizationField,l=t.normalizationTotal,s=t.classificationMethod,n.next=9,x({field:i,valueExpression:t.valueExpression,normalizationType:o,normalizationField:u,normalizationTotal:l,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},a);case 9:return f=n.sent,c=(0,d.G2)(f,{field:i,normalizationType:o,normalizationField:u,normalizationTotal:l,classificationMethod:s,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue}),n.abrupt("return",(0,d.DL)(c,s));case 12:case"end":return n.stop()}}),n)}))),T.apply(this,arguments)}function F(n){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a,i,o,u,l,s,f;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.attribute,a=e.features,i=t.field,o=t.normalizationType,u=t.normalizationField,l=t.normalizationTotal,s=t.classificationMethod,n.next=9,x({field:i,valueExpression:t.valueExpression,normalizationType:o,normalizationField:u,normalizationTotal:l,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},a);case 9:return f=n.sent,n.abrupt("return",(0,d.oF)(f,{field:i,normalizationType:o,normalizationField:u,normalizationTotal:l,classificationMethod:s,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue}));case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(n){return V.apply(this,arguments)}function V(){return V=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a,i,o,u,l,s,f,c,d,m,p,v,x,w,I;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.attribute,i=e.features,o=a.field,u=a.radius,l=a.fieldOffset,s=a.transform,f=a.spatialReference,c=null!==(t=a.size)&&void 0!==t?t:[0,0],d=h(null!==i&&void 0!==i?i:[],s,f,c),m=y(d,null!==u&&void 0!==u?u:void 0,l,o,c[0],c[1]),p=m.count,v=m.min,x=m.max,w=m.mean,I=m.stdDev,n.abrupt("return",{count:p,min:v,max:x,avg:w,stddev:I});case 2:case"end":return n.stop()}}),n)}))),V.apply(this,arguments)}}}]);
//# sourceMappingURL=7663.17eff839.chunk.js.map