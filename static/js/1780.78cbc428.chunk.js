"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[1780,2410],{16054:function(e,t,r){r.d(t,{z:function(){return a}});var i=r(15671),n=r(43144),s=r(18759),a=function(){function e(t,r){(0,i.Z)(this,e),this._storage=new s.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),r&&this._storage.registerRemoveFunc("",r)}return(0,n.Z)(e,[{key:"destroy",value:function(){this._storage.deregister(this),this._storage.destroy()}},{key:"put",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._storage.put(this,e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(this,e)}},{key:"get",value:function(e){return this._storage.get(this,e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}},{key:"resetHitRate",value:function(){}}]),e}()},18759:function(e,t,r){r.d(t,{WJ:function(){return f},Xq:function(){return h}});var i,n,s=r(29439),a=r(37762),u=r(15671),o=r(43144),l=r(27546);(n=i||(i={}))[n.ALL=0]="ALL",n[n.SOME=1]="SOME";var h=function(){function e(t,r,i){(0,u.Z)(this,e),this.name=t,this._storage=r,this.id=c+++":",this.size=0,this.maxSize=0,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),i&&(this._storage.registerRemoveFunc(this.id,i),this._removeFunc=!0)}return(0,o.Z)(e,[{key:"destroy",value:function(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"sizeAll",get:function(){return this._storage.size}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this,e,t,r,i)}},{key:"get",value:function(e){var t=this._storage.get(this,e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this,e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,r){this._storage.updateSize(this,e,t,r)}},{key:"clear",value:function(){this._storage.clear(this)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"performanceInfo",get:function(){return this._storage.performanceInfo}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;(0,u.Z)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new l.Z,this._users=new l.Z}return(0,o.Z)(e,[{key:"size",get:function(){return this._size}},{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimits()}},{key:"put",value:function(e,t,r,n,s){t=e.id+t;var a=this._db.get(t);if(a&&(this._size-=a.size,e.size-=a.size,this._db.delete(t),a.entry!==r&&this._notifyRemove(t,a.entry,i.ALL)),n>this._maxSize)this._notifyRemove(t,r,i.ALL);else if(void 0!==r)if(!n||n<0)console.warn("Refusing to cache entry with invalid size "+n);else{var u=1+Math.max(s,-3)- -3;this._db.set(t,{entry:r,size:n,lifetime:u,lives:u}),this._size+=n,e.size+=n,this._checkSizeLimits()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,r,n){t=e.id+t;var s=this._db.get(t);if(s&&s.entry===r){for(this._size-=s.size,e.size-=s.size;n>this._maxSize;){var a=this._notifyRemove(t,r,i.SOME);if(!(null!=a&&a>0))return void this._db.delete(t);n=a}s.size=n,this._size+=n,e.size+=n,this._checkSizeLimits()}}},{key:"pop",value:function(e,t){t=e.id+t;var r=this._db.get(t);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}},{key:"get",value:function(e,t){t=e.id+t;var r=this._db.get(t);if(void 0!==r)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}},{key:"performanceInfo",get:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},i=new Array;this._db.forEach((function(t,n){var s=t.lifetime;i[s]=(i[s]||0)+t.size,e._users.forAll((function(e){var i=e.id,s=e.name;if(n.startsWith(i)){var a=r[s]||0;r[s]=a+t.size}}))}));var n={};this._users.forAll((function(e){var t=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){var i=r[t]||0;r[t]=i,n[t]=Math.round(100*e.hitRate)+"%"}else n[t]="0%"}));var s=Object.keys(r);s.sort((function(e,t){return r[t]-r[e]})),s.forEach((function(e){return t[e]=Math.round(r[e]/Math.pow(2,20))+"MB / "+n[e]}));for(var a=i.length-1;a>=0;--a){var u=i[a];u&&(t["Priority "+(a+-3-1)]=Math.round(u/this._size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this,r=e.id;this._db.forEach((function(e,n){n.startsWith(r)&&(t._size-=e.size,t._db.delete(n),t._notifyRemove(n,e.entry,i.ALL))})),e.size=0}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,r){return e._notifyRemove(r,t.entry,i.ALL)})),this._users.forEach((function(e){return e.size=0})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemove",value:function(e,t,r){var i;return this._removeFuncs.some((function(n){if(e.startsWith(n[0])){var s=n[1](t,r);return"number"==typeof s&&(i=s),!0}return!1})),i}},{key:"_checkSizeLimits",value:function(){var e=this;if(this._size>this._maxSize){var t,r=(0,a.Z)(this._db);try{for(r.s();!(t=r.n()).done;){var i=(0,s.Z)(t.value,2),n=i[0],u=i[1];if(this._purgeItem(n,u),this._size<=.9*this.maxSize)return}}catch(o){r.e(o)}finally{r.f()}}this._users.forEach((function(t){if(t.maxSize>0&&t.size>t.maxSize){var r,i=(0,a.Z)(e._db);try{for(i.s();!(r=i.n()).done;){var n=(0,s.Z)(r.value,2),u=n[0],l=n[1];if(u.startsWith(t.id)&&(e._purgeItem(u,l,t),t.size<=.9*t.maxSize))return}}catch(o){i.e(o)}finally{i.f()}}}))}},{key:"_purgeItem",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._users.find((function(t){return e.startsWith(t.id)}));if(this._db.delete(e),t.lives<=1){this._size-=t.size,r&&(r.size-=t.size);var n=this._notifyRemove(e,t.entry,i.SOME);null!=n&&n>0&&(this._size+=n,r&&(r.size+=n),t.lives=t.lifetime,t.size=n,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}]),e}(),c=0},13838:function(e,t,r){r.r(t),r.d(t,{default:function(){return K}});var i,n=r(37762),s=r(74165),a=r(15861),u=r(93433),o=r(1413),l=r(15671),h=r(43144),f=r(11752),c=r(61120),v=r(60136),d=r(29388),y=r(27366),p=(r(59486),r(40281)),_=r(77178),b=r(97642),m=r(66978),g=r(94172),k=r(35995),z=r(49861),w=r(25243),S=(r(63780),r(93169),r(38511)),Z=r(69912),M=r(31201),F=r(78952),C=r(30651),x=r(6693),L=r(6061),A=r(29598),I=r(71684),R=r(56811),E=r(45948),O=r(97326),N=r(91505),j=r(46784),T=r(54472),D=r(643),P=r(21857),H=r(53866),W=i=function(e){(0,v.Z)(r,e);var t=(0,d.Z)(r);function r(){var e;(0,l.Z)(this,r);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).description=null,e.fullExtent=null,e.id=null,e.networkLink=null,e.parent=null,e.sublayers=null,e.title=null,e.sourceJSON=null,e.layer=null,e.addHandles([(0,g.on)((function(){return e.sublayers}),"after-add",(function(t){var r=t.item;r.parent=(0,O.Z)(e),r.layer=e.layer}),g.Z_),(0,g.on)((function(){return e.sublayers}),"after-remove",(function(e){var t=e.item;t.layer=t.parent=null}),g.Z_),(0,g.YP)((function(){return e.sublayers}),(function(t,r){if(r){var i,s=(0,n.Z)(r);try{for(s.s();!(i=s.n()).done;){var a=i.value;a.layer=a.parent=null}}catch(h){s.e(h)}finally{s.f()}}if(t){var u,o=(0,n.Z)(t);try{for(o.s();!(u=o.n()).done;){var l=u.value;l.parent=(0,O.Z)(e),l.layer=e.layer}}catch(h){o.e(h)}finally{o.f()}}}),g.Z_),(0,g.YP)((function(){return e.layer}),(function(t){if(e.sublayers){var r,i=(0,n.Z)(e.sublayers);try{for(i.s();!(r=i.n()).done;){r.value.layer=t}}catch(s){i.e(s)}finally{i.f()}}}),g.Z_)]),e}return(0,h.Z)(r,[{key:"initialize",value:function(){var e=this;(0,g.N1)((function(){return e.networkLink})).then((function(){return(0,g.N1)((function(){return!0===e.visible}))})).then((function(){return e.load()}))}},{key:"load",value:function(e){var t,r,n=this;if(this.networkLink&&!this.networkLink.viewFormat){var s=null!=e?e.signal:null,a=this._fetchService(null!==(t=null===(r=this._get("networkLink"))||void 0===r?void 0:r.href)&&void 0!==t?t:"",s).then((function(e){var t,r=(0,P.lm)(e.sublayers);n.fullExtent=H.Z.fromJSON(r),n.sourceJSON=e;var s=(0,w.se)(p.Z.ofType(i),(0,P.j5)(i,e));n.sublayers?n.sublayers.addMany(s):n.sublayers=s,null!==(t=n.layer)&&void 0!==t&&t.emit("sublayer-update"),n.layer&&n.layer.notifyChange("visibleSublayers")}));return this.addResolvingPromise(a),Promise.resolve(this)}}},{key:"visible",get:function(){return this._get("visible")},set:function(e){this._get("visible")!==e&&(this._set("visible",e),this.layer&&this.layer.notifyChange("visibleSublayers"))}},{key:"readVisible",value:function(e,t){return!!t.visibility}},{key:"_fetchService",value:function(e,t){return(0,P.CS)(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((function(e){return(0,P.Cw)(e.data)}))}}]),r}(N.Z.EventedMixin((0,j.eC)(T.Z)));(0,y._)([(0,z.Cb)()],W.prototype,"description",void 0),(0,y._)([(0,z.Cb)({type:H.Z})],W.prototype,"fullExtent",void 0),(0,y._)([(0,z.Cb)()],W.prototype,"id",void 0),(0,y._)([(0,z.Cb)({readOnly:!0,value:null})],W.prototype,"networkLink",void 0),(0,y._)([(0,z.Cb)({json:{write:{allowNull:!0}}})],W.prototype,"parent",void 0),(0,y._)([(0,z.Cb)({type:p.Z.ofType(i),json:{write:{allowNull:!0}}})],W.prototype,"sublayers",void 0),(0,y._)([(0,z.Cb)({value:null,json:{read:{source:"name",reader:function(e){return(0,D.Cb)(e)}}}})],W.prototype,"title",void 0),(0,y._)([(0,z.Cb)({value:!0})],W.prototype,"visible",null),(0,y._)([(0,S.r)("visible",["visibility"])],W.prototype,"readVisible",null),(0,y._)([(0,z.Cb)()],W.prototype,"sourceJSON",void 0),(0,y._)([(0,z.Cb)()],W.prototype,"layer",void 0);var q=W=i=(0,y._)([(0,Z.j)("esri.layers.support.KMLSublayer")],W),J=["kml","xml"],U=function(e){(0,v.Z)(r,e);var t=(0,d.Z)(r);function r(){var e;(0,l.Z)(this,r);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n)))._visibleFolders=[],e.allSublayers=new _.Z({getCollections:function(){return[e.sublayers]},getChildrenFunction:function(e){return e.sublayers}}),e.outSpatialReference=F.Z.WGS84,e.path=null,e.legendEnabled=!1,e.operationalLayerType="KML",e.sublayers=null,e.type="kml",e.url=null,e}return(0,h.Z)(r,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,g.YP)((function(){return e.sublayers}),(function(t,r){r&&r.forEach((function(e){e.parent=null,e.layer=null})),t&&t.forEach((function(t){t.parent=e,t.layer=e}))}),g.Z_),this.on("sublayer-update",(function(){return e.notifyChange("fullExtent")}))])}},{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?(0,o.Z)({url:e},t):e}},{key:"readSublayersFromItemOrWebMap",value:function(e,t){this._visibleFolders=t.visibleFolders}},{key:"readSublayers",value:function(e,t,r){return(0,P.j5)(q,t,r,this._visibleFolders)}},{key:"writeSublayers",value:function(e,t){for(var r=[],i=e.toArray();i.length;){var n=i[0];n.networkLink||(n.visible&&r.push(n.id),n.sublayers&&i.push.apply(i,(0,u.Z)(n.sublayers.toArray()))),i.shift()}t.visibleFolders=r}},{key:"title",get:function(){var e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,k.vt)(this.url,J)||"KML":e||""},set:function(e){this._set("title",e)}},{key:"visibleSublayers",get:function(){var e=this.sublayers,t=[];return e&&e.forEach((function e(r){r.visible&&(t.push(r),r.sublayers&&r.sublayers.forEach(e))})),t}},{key:"fullExtent",get:function(){return this._recomputeFullExtent()}},{key:"load",value:function(e){var t=this,r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["KML"],supportsData:!1},e).catch(m.r9).then((function(){return t._fetchService(r)}))),Promise.resolve(this)}},{key:"destroy",value:function(){(0,f.Z)((0,c.Z)(r.prototype),"destroy",this).call(this),this.allSublayers.destroy()}},{key:"_fetchService",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,i,n=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){var e;return n.resourceInfo?{ssl:!1,data:n.resourceInfo}:(0,P.CS)(null!==(e=n.url)&&void 0!==e?e:"",n.outSpatialReference,n.refreshInterval,t)}));case 2:r=e.sent,(i=(0,P.Cw)(r.data))&&this.read(i,{origin:"service"});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_recomputeFullExtent",value:function(){var e=null;null!=this.extent&&(e=this.extent.clone());return function t(r){if(r.sublayers){var i,s=(0,n.Z)(r.sublayers.items);try{for(s.s();!(i=s.n()).done;){var a=i.value;t(a),a.visible&&a.fullExtent&&(null!=e?e.union(a.fullExtent):e=a.fullExtent.clone())}}catch(u){s.e(u)}finally{s.f()}}}(this),e}}]),r}((0,x.h)((0,I.Q)((0,R.M)((0,L.q)((0,A.I)((0,b.R)(C.Z)))))));(0,y._)([(0,z.Cb)({readOnly:!0})],U.prototype,"allSublayers",void 0),(0,y._)([(0,z.Cb)({type:F.Z})],U.prototype,"outSpatialReference",void 0),(0,y._)([(0,z.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],U.prototype,"path",void 0),(0,y._)([(0,z.Cb)({readOnly:!0,json:{read:!1,write:!1}})],U.prototype,"legendEnabled",void 0),(0,y._)([(0,z.Cb)({type:["show","hide","hide-children"]})],U.prototype,"listMode",void 0),(0,y._)([(0,z.Cb)({type:["KML"]})],U.prototype,"operationalLayerType",void 0),(0,y._)([(0,z.Cb)({})],U.prototype,"resourceInfo",void 0),(0,y._)([(0,z.Cb)({type:p.Z.ofType(q),json:{write:{ignoreOrigin:!0}}})],U.prototype,"sublayers",void 0),(0,y._)([(0,S.r)(["web-map","portal-item"],"sublayers",["visibleFolders"])],U.prototype,"readSublayersFromItemOrWebMap",null),(0,y._)([(0,S.r)("service","sublayers",["sublayers"])],U.prototype,"readSublayers",null),(0,y._)([(0,M.c)("sublayers")],U.prototype,"writeSublayers",null),(0,y._)([(0,z.Cb)({readOnly:!0,json:{read:!1}})],U.prototype,"type",void 0),(0,y._)([(0,z.Cb)({json:{origins:{"web-map":{read:{source:"title"}}},write:{ignoreOrigin:!0}}})],U.prototype,"title",null),(0,y._)([(0,z.Cb)(E.HQ)],U.prototype,"url",void 0),(0,y._)([(0,z.Cb)({readOnly:!0})],U.prototype,"visibleSublayers",null),(0,y._)([(0,z.Cb)({type:H.Z})],U.prototype,"extent",void 0),(0,y._)([(0,z.Cb)()],U.prototype,"fullExtent",null);var K=U=(0,y._)([(0,Z.j)("esri.layers.KMLLayer")],U)},71684:function(e,t,r){r.d(t,{Q:function(){return Z}});var i=r(74165),n=r(15861),s=r(15671),a=r(43144),u=r(97326),o=r(60136),l=r(29388),h=r(27366),f=r(32718),c=r(66978),v=r(49861),d=(r(25243),r(63780),r(93169),r(69912)),y=r(37762),p=r(40281),_=(r(10064),r(2173),r(27088)),b=new p.Z,m=new WeakMap;function g(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function k(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:k(t,e%t):0}var z=0,w=0;function S(){var e,t=Date.now(),r=(0,y.Z)(b);try{for(r.s();!(e=r.n()).done;){var i,n=e.value;if(n.refreshInterval)t-(null!==(i=m.get(n))&&void 0!==i?i:0)+5>=6e4*n.refreshInterval&&(m.set(n,t),n.refresh(t))}}catch(s){r.e(s)}finally{r.f()}}(0,_.EH)((function(){var e,t=Date.now(),r=0,i=(0,y.Z)(b);try{for(i.s();!(e=i.n()).done;){var n=e.value;r=k(Math.round(6e4*n.refreshInterval),r),n.refreshInterval?m.get(n)||m.set(n,t):m.delete(n)}}catch(s){i.e(s)}finally{i.f()}if(r!==w){if(w=r,clearInterval(z),0===w)return void(z=0);z=setInterval(S,w)}}));var Z=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).refreshInterval=0,e.refreshTimestamp=0,e._debounceHasDataChanged=(0,c.Ds)((function(){return e.hasDataChanged()})),e.when().then((function(){e.destroyed||function(e){g(e)&&b.push(e)}((0,u.Z)(e))}),(function(){})),e}return(0,a.Z)(r,[{key:"destroy",value:function(){var e;g(e=this)&&b.includes(e)&&b.remove(e)}},{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();(0,c.R8)(this._debounceHasDataChanged()).then((function(r){r&&e._set("refreshTimestamp",t),e.emit("refresh",{dataChanged:r})}),(function(t){f.Z.getLogger(e).error(t),e.emit("refresh",{dataChanged:!1,error:t})}))}},{key:"hasDataChanged",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(e);return(0,h._)([(0,v.Cb)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0}})],t.prototype,"refreshInterval",void 0),(0,h._)([(0,v.Cb)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,h._)([(0,v.Cb)()],t.prototype,"refreshParameters",null),t=(0,h._)([(0,d.j)("esri.layers.mixins.RefreshableLayer")],t),t}},52410:function(e,t,r){r.d(t,{Z:function(){return l}});var i=r(37762),n=r(15671),s=r(43144),a=r(37270);function u(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function o(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((0,n.Z)(this,e),this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,t){this.fields=t;var r,s,l=[],c=(0,i.Z)(t);try{for(c.s();!(r=c.n()).done;){var v=r.value,d=null===v||void 0===v?void 0:v.name,y=f(null===v||void 0===v?void 0:v.name);if(d&&y){var p=h(d);this._fieldsMap.set(d,v),this._fieldsMap.set(p,v),this._normalizedFieldsMap.set(y,v),l.push(p),"date"===(s=v).type||"esriFieldTypeDate"===s.type||"date-only"===s.type||"esriFieldTypeDateOnly"===s.type||"timestamp-offset"===s.type||"esriFieldTypeTimestampOffset"===s.type?(this.dateFields.push(v),this._dateFieldsSet.add(v)):(0,a.H7)(v)&&(this._numericFieldsSet.add(v),this.numericFields.push(v)),u(v)||o(v)||(v.editable=null==v.editable||!!v.editable,v.nullable=null==v.nullable||!!v.nullable)}}}catch(_){c.e(_)}finally{c.f()}l.sort(),this.uid=l.join(",")}}return(0,s.Z)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];var e,t=(0,i.Z)(this.fields);try{for(t.s();!(e=t.n()).done;){var r=e.value;u(r)||o(r)||r.nullable||void 0!==(0,a.os)(r)||this._requiredFields.push(r)}}catch(n){t.e(n)}finally{t.f()}}return this._requiredFields}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){var t;if(e){var r=this._fieldsMap.get(e);return r||((r=null!==(t=this._fieldsMap.get(h(e)))&&void 0!==t?t:this._normalizedFieldsMap.get(f(e)))&&this._fieldsMap.set(e,r),r)}}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"isNumericField",value:function(e){return this._numericFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t,r=this.get(e);if(r)return null!==(t=r.name)&&void 0!==t?t:void 0}}]),e}();function h(e){return e.trim().toLowerCase()}function f(e){var t,r;return null!==(t=null===(r=(0,a.q6)(e))||void 0===r?void 0:r.toLowerCase())&&void 0!==t?t:""}},27811:function(e,t,r){r.d(t,{AJ:function(){return h},If:function(){return y},QM:function(){return v},hy:function(){return d},k0:function(){return l},nu:function(){return o},uI:function(){return c},wx:function(){return p}});var i=r(37762),n=r(16889),s=r(17842),a=r(90045),u=r(67077),o=2.4;function l(e){return(0,s.Wz)(e*o)}function h(e){return(0,s.F2)(e)/o}function f(e,t,r,i){var s=t.color,u=t.ratio,o=r.color,l=r.ratio;if(l===u){var h=1e-6;1===l?u-=h:l+=h}var f=(0,n.uZ)((i-u)/(l-u),0,1);(0,a.l)(e,s.toArray(),o.toArray(),f)}function c(e){var t=new Uint8ClampedArray(2048);if(e=e.filter((function(e){var t=e.ratio;return t>=0&&t<=1})).sort((function(e,t){return e.ratio-t.ratio})).map((function(e){var t=e.color,r=e.ratio;return{color:t,ratio:Math.max(r,.001)}})),e.length<1)return t;for(var r=e[0],i=e[0],n=1,s=(0,u.c)(),a=0;a<512;a++){for(var o=(a+.5)/512;o>i.ratio&&n<e.length;)r=i,i=e[n++];f(s,r,i,o),t.set(s,4*a)}return t}function v(e,t,r,n){var a,u,o=t.radius,l=t.fieldOffset,h=t.field,f=Math.round((0,s.F2)(o)),c=new Float64Array(r*n),v=Number.NEGATIVE_INFINITY,d=function(e,t){return null!=e?"string"==typeof t?function(t){return-1*+t.readAttribute(e)}:function(r){return+r.readAttribute(e)+t}:function(e){return 1}}(h,l),p=new Set,_=(0,i.Z)(e);try{for(_.s();!(u=_.n()).done;)for(var b=u.value.getCursor();b.next();){var m=b.getObjectId();if(!p.has(m)){p.add(m);var g=b.readLegacyPointGeometry(),k=128;if(!(g.x<-k||g.x>=r+k||g.y<-k||g.y>n+k))for(var z=+d(b),w=Math.max(0,Math.round(g.x)-f),S=Math.max(0,Math.round(g.y)-f),Z=Math.min(n,Math.round(g.y)+f),M=Math.min(r,Math.round(g.x)+f),F=S;F<Z;F++)for(var C=w;C<M;C++){var x=F*r+C,L=y(g.x-C,g.y-F,f);(a=c[x]+=L*z)>v&&(v=a)}}}}catch(A){_.e(A)}finally{_.f()}return{matrix:c.buffer,max:v}}function d(e,t,r,i,s,a){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);var u=e.getImageData(0,0,t,t);r&&i&&u.data.set(new Uint8ClampedArray(function(e,t,r,i,s){for(var a=new Uint32Array(e*e),u=("buffer"in t?t:new Float64Array(t)),o=("buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),l=o.length/(s-i),h=0;h<u.length;h++){var f=u[h],c=Math.floor((f-i)*l);a[h]=o[(0,n.uZ)(c,0,o.length-1)]}return a.buffer}(t,r,i,s,a))),e.putImageData(u,0,0)}function y(e,t,r){var i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))/r;return i>1?0:3/(Math.PI*Math.pow(r,2))*Math.pow(1-Math.pow(i,2),2)}function p(e,t){return"function"==typeof e?e:e?"string"==typeof t?function(t){return-1*+t[e]}:function(r){return+r[e]+t}:function(){return 1}}}}]);
//# sourceMappingURL=1780.78cbc428.chunk.js.map