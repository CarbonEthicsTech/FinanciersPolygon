{"version":3,"file":"static/js/2976.fa999af3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/renderers/support/heatmapUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/WMTSLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/support/imageUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{px2pt as r,pt2px as n}from\"../../core/screenUtils.js\";import{l as o}from\"../../chunks/vec4.js\";import{c as e}from\"../../chunks/vec4f64.js\";const a=2.4;function i(t){return r(t*a)}function c(t){return n(t)/a}function f(r,n,e,a){let{color:i,ratio:c}=n,{color:f,ratio:u}=e;if(u===c){const t=1e-6;1===u?c-=t:u+=t}const s=t((a-c)/(u-c),0,1);o(r,i.toArray(),f.toArray(),s)}function u(t){const r=512,n=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n;let o=t[0],a=t[0],i=1;const c=e();for(let e=0;e<r;e++){const u=(e+.5)/r;for(;u>a.ratio&&i<t.length;)o=a,a=t[i++];f(c,o,a,u),n.set(c,4*e)}return n}function s(t,r,o,e){const{radius:a,fieldOffset:i,field:c}=r,f=Math.round(n(a)),u=new Float64Array(o*e);let s,l=Number.NEGATIVE_INFINITY;const h=d(c,i),y=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(y.has(r))continue;y.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+h(t),c=Math.max(0,Math.round(n.x)-f),d=Math.max(0,Math.round(n.y)-f),g=Math.min(e,Math.round(n.y)+f),A=Math.min(o,Math.round(n.x)+f);for(let t=d;t<g;t++)for(let r=c;r<A;r++){const e=t*o+r,a=m(n.x-r,n.y-t,f);s=u[e]+=a*i,s>l&&(l=s)}}}return{matrix:u.buffer,max:l}}function l(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0)}function h(r,n,o,e,a){const i=new Uint32Array(r*r),c=\"buffer\"in n?n:new Float64Array(n),f=\"buffer\"in o?new Uint32Array(o.buffer):new Uint32Array(new Uint8Array(o).buffer),u=f.length/(a-e);for(let s=0;s<c.length;s++){const r=c[s],n=Math.floor((r-e)*u);i[s]=f[t(n,0,f.length-1)]}return i.buffer}function m(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function y(t,r){return\"function\"==typeof t?t:t?\"string\"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function d(t,r){return null!=t?\"string\"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}export{a as MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR,s as calculateHeatmapIntensityInfoReaders,h as createHeatmapImageData,y as createValueFunction,d as createValueFunctionCursor,l as drawHeatmap,m as evaluateDensityKernel,i as gaussianBlurRadiusPxToKernelDensityRadiusPt,u as generateGradient,c as kernelDensityRadiusPtToGaussianBlurRadiusPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushInfo.js\";import t from\"./brushes/WGLBrushStencil.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[t],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[s],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o,n=h,a=o){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.resolution=s,this.x=i,this.y=r,this.width=h,this.height=o,this.rangeX=n,this.rangeY=a}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i){const e=this.resolution/(i.resolution*i.pixelRatio),r=this.transforms.tileMat3,[h,o]=i.toScreenNoRotation([0,0],[this.x,this.y]),n=this.width/this.rangeX*e,a=this.height/this.rangeY*e;t(r,n,0,0,0,a,0,h,o,1),s(this.transforms.dvs,i.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/Error.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{BitmapTileContainer as r}from\"../engine/BitmapTileContainer.js\";const t=t=>{let s=class extends t{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new r(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView?.removeAllChildren()}};return s=e([i(\"esri.views.2d.layers.BitmapTileLayerView2D\")],s),s};export{t as BitmapTileLayerView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Logger.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as s}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{equals as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{BitmapTileLayerView2D as o}from\"./BitmapTileLayerView2D.js\";import{LayerView2DMixin as h}from\"./LayerView2D.js\";import{resampleImage as c}from\"./support/imageUtils.js\";import n from\"../tiling/TileInfoView.js\";import u from\"../tiling/TileKey.js\";import p from\"../tiling/TileQueue.js\";import f from\"../tiling/TileStrategy.js\";import m from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";const d=[102113,102100,3857,3785,900913],_=[0,0];let w=class extends(y(o(h(m)))){constructor(){super(...arguments),this._tileStrategy=null,this._fetchQueue=null,this._tileRequests=new Map,this.layer=null}get tileMatrixSet(){const e=this._getTileMatrixSetBySpatialReference(this.layer.activeLayer);return e?(e.id!==this.layer.activeLayer.tileMatrixSetId&&(this.layer.activeLayer.tileMatrixSetId=e.id),e):null}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume()}attach(){const e=this.tileMatrixSet?.tileInfo;e&&(this._tileInfoView=new n(e),this._fetchQueue=new p({tileInfoView:this._tileInfoView,concurrency:16,process:(e,t)=>this.fetchTile(e,t)}),this._tileStrategy=new f({cachePolicy:\"keep\",resampling:!0,acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView}),this.addAttachHandles(s((()=>[this.layer?.activeLayer?.styleId,this.tileMatrixSet]),(()=>this._refresh()))),super.attach())}detach(){super.detach(),this._tileStrategy?.destroy(),this._fetchQueue?.destroy(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}releaseTile(e){this._fetchQueue.abort(e.key.id),this._bitmapView.removeChild(e),e.once(\"detach\",(()=>e.destroy())),this.requestUpdate()}acquireTile(e){const t=this._bitmapView.createTile(e),i=t.bitmap;return[i.x,i.y]=this._tileInfoView.getTileCoords(_,t.key),i.resolution=this._tileInfoView.getTileResolution(t.key),[i.width,i.height]=this._tileInfoView.tileInfo.size,this._enqueueTileFetch(t),this._bitmapView.addChild(t),this.requestUpdate(),t}async doRefresh(){!this.attached||this.updateRequested||this.suspended||this._refresh()}isUpdating(){return this._fetchQueue?.updating??!1}async fetchTile(e,t={}){const s=\"tilemapCache\"in this.layer?this.layer.tilemapCache:null,{signal:r,resamplingLevel:a=0}=t;if(!s)return this._fetchImage(e,r);const l=new u(0,0,0,0);let o;try{await s.fetchAvailabilityUpsample(e.level,e.row,e.col,l,{signal:r}),o=await this._fetchImage(l,r)}catch(h){if(i(h))throw h;if(a<3){const i=this._tileInfoView.getTileParentId(e.id);if(i){const s=new u(i),r=await this.fetchTile(s,{...t,resamplingLevel:a+1});return c(this._tileInfoView,r,s,e)}}throw h}return c(this._tileInfoView,o,l,e)}canResume(){const e=super.canResume();return e?null!==this.tileMatrixSet:e}supportsSpatialReference(e){return this.layer.activeLayer.tileMatrixSets?.some((t=>l(t.tileInfo?.spatialReference,e)))??!1}async _enqueueTileFetch(e){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key);e.bitmap.source=t,e.bitmap.width=this._tileInfoView.tileInfo.size[0],e.bitmap.height=this._tileInfoView.tileInfo.size[1],e.once(\"attach\",(()=>this.requestUpdate()))}catch(s){i(s)||t.getLogger(this).error(s)}this.requestUpdate()}}async _fetchImage(e,t){return this.layer.fetchImageBitmapTile(e.level,e.row,e.col,{signal:t})}_refresh(){this._fetchQueue.reset(),this._tileStrategy.refresh((e=>{if(!e.bitmap.source)return;const t={id:e.key.id,fulfilled:!1,promise:this._fetchQueue.push(e.key).then((t=>{e.bitmap.source=t})).catch((t=>{i(t)||(e.bitmap.source=null)})).finally((()=>{e.requestRender(),t.fulfilled=!0}))};this._tileRequests.set(e,t)}))}_getTileMatrixSetBySpatialReference(e){const t=this.view.spatialReference;if(!e.tileMatrixSets)return null;let i=e.tileMatrixSets.find((e=>l(e.tileInfo?.spatialReference,t)));return!i&&t.isWebMercator&&(i=e.tileMatrixSets.find((e=>d.includes(e.tileInfo?.spatialReference.wkid??-1)))),i}};e([r()],w.prototype,\"_fetchQueue\",void 0),e([r({readOnly:!0})],w.prototype,\"tileMatrixSet\",null),w=e([a(\"esri.views.2d.layers.WMTSLayerView2D\")],w);const g=w;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return e instanceof HTMLImageElement?e.naturalWidth:e.width}function t(e){return e instanceof HTMLImageElement?e.naturalHeight:e.height}function n(n,l,r,u){if(r.level===u.level)return l;const i=n.tileInfo.size,a=n.getTileResolution(r.level),c=n.getTileResolution(u.level);let g=n.getLODInfoAt(u.level);const h=g.getXForColumn(u.col),d=g.getYForRow(u.row);g=n.getLODInfoAt(r.level);const f=g.getXForColumn(r.col),s=g.getYForRow(r.row),m=e(l)/i[0],v=t(l)/i[1],w=Math.round(m*((h-f)/a)),I=Math.round(v*(-(d-s)/a)),M=Math.round(m*i[0]*(c/a)),F=Math.round(v*i[1]*(c/a)),L=o(i);return L.getContext(\"2d\").drawImage(l,w,I,M,F,0,0,i[0],i[1]),L}function o(e){const t=document.createElement(\"canvas\");return[t.width,t.height]=e,t}export{o as createBlankImage,n as resampleImage};\n"],"names":["a","i","t","r","c","n","f","e","color","ratio","u","s","o","toArray","Uint8ClampedArray","filter","_ref","sort","map","_ref2","Math","max","length","set","_step","radius","fieldOffset","field","round","Float64Array","l","Number","NEGATIVE_INFINITY","h","readAttribute","d","y","Set","_iterator","_createForOfIteratorHelper","done","value","getCursor","next","getObjectId","has","add","readLegacyPointGeometry","x","g","min","A","m","err","matrix","buffer","canvas","width","height","clearRect","getImageData","data","Uint32Array","Uint8Array","floor","putImageData","sqrt","pow","PI","key","level","row","col","_r","_inherits","_super","_createSuper","_this","_classCallCheck","call","_tileInfoView","_createClass","get","this","sortChildren","setStencilReference","_get","_getPrototypeOf","prototype","state","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","_this2","push","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","children","stencilRef","_i","arguments","undefined","triangleCountReportedInDebug","triangleCount","texture","resolution","rangeX","rangeY","dispose","pixelRatio","transforms","tileMat3","_i$toScreenNoRotation","toScreenNoRotation","_i$toScreenNoRotation2","_slicedToArray","dvs","displayViewMat3","_t","apply","view","timeline","record","concat","layer","title","_bitmapView","container","addChild","_this$_bitmapView","removeChild","removeAllChildren","_","w","_y","_tileStrategy","_fetchQueue","_tileRequests","Map","_getTileMatrixSetBySpatialReference","activeLayer","id","tileMatrixSetId","pause","update","resume","_this$tileMatrixSet","tileMatrixSet","p","tileInfoView","concurrency","process","fetchTile","cachePolicy","resampling","acquireTile","releaseTile","addAttachHandles","_this2$layer","styleId","_refresh","_this$_tileStrategy","_this$_fetchQueue","destroy","requestUpdate","abort","once","_this$_tileInfoView$g","_this$_tileInfoView$g2","_this$_tileInfoView$t","createTile","bitmap","getTileCoords","getTileResolution","size","_enqueueTileFetch","_doRefresh","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","attached","updateRequested","suspended","stop","_this$_fetchQueue$upd","_this$_fetchQueue2","updating","_fetchTile","_callee2","_t$resamplingLevel","_s","_args2","_context2","tilemapCache","signal","resamplingLevel","abrupt","_fetchImage","fetchAvailabilityUpsample","sent","t0","getTileParentId","_objectSpread","_x","_this$layer$activeLay","_this$layer$activeLay2","tileMatrixSets","some","_t$tileInfo","spatialReference","_enqueueTileFetch2","_callee3","_this3","_context3","source","getLogger","error","_x2","_fetchImage2","_callee4","_context4","fetchImageBitmapTile","_x3","_x4","_this4","reset","refresh","fulfilled","promise","then","catch","finally","requestRender","find","_e$tileInfo","isWebMercator","_e$tileInfo$spatialRe","_e$tileInfo2","includes","wkid","readOnly","getLODInfoAt","getXForColumn","getYForRow","HTMLImageElement","naturalWidth","v","naturalHeight","I","M","F","L","getContext","drawImage","_e","document","createElement"],"sourceRoot":""}