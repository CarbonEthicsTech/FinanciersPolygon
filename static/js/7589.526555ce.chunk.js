"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[7589],{27811:function(e,r,t){t.d(r,{AJ:function(){return c},If:function(){return v},QM:function(){return d},hy:function(){return h},k0:function(){return s},nu:function(){return o},uI:function(){return y},wx:function(){return p}});var i=t(37762),n=t(16889),a=t(17842),u=t(90045),l=t(67077),o=2.4;function s(e){return(0,a.Wz)(e*o)}function c(e){return(0,a.F2)(e)/o}function f(e,r,t,i){var a=r.color,l=r.ratio,o=t.color,s=t.ratio;if(s===l){var c=1e-6;1===s?l-=c:s+=c}var f=(0,n.uZ)((i-l)/(s-l),0,1);(0,u.l)(e,a.toArray(),o.toArray(),f)}function y(e){var r=new Uint8ClampedArray(2048);if(e=e.filter((function(e){var r=e.ratio;return r>=0&&r<=1})).sort((function(e,r){return e.ratio-r.ratio})).map((function(e){var r=e.color,t=e.ratio;return{color:r,ratio:Math.max(t,.001)}})),e.length<1)return r;for(var t=e[0],i=e[0],n=1,a=(0,l.c)(),u=0;u<512;u++){for(var o=(u+.5)/512;o>i.ratio&&n<e.length;)t=i,i=e[n++];f(a,t,i,o),r.set(a,4*u)}return r}function d(e,r,t,n){var u,l,o=r.radius,s=r.fieldOffset,c=r.field,f=Math.round((0,a.F2)(o)),y=new Float64Array(t*n),d=Number.NEGATIVE_INFINITY,h=function(e,r){return null!=e?"string"==typeof r?function(r){return-1*+r.readAttribute(e)}:function(t){return+t.readAttribute(e)+r}:function(e){return 1}}(c,s),p=new Set,b=(0,i.Z)(e);try{for(b.s();!(l=b.n()).done;)for(var w=l.value.getCursor();w.next();){var g=w.getObjectId();if(!p.has(g)){p.add(g);var V=w.readLegacyPointGeometry(),_=128;if(!(V.x<-_||V.x>=t+_||V.y<-_||V.y>n+_))for(var m=+h(w),k=Math.max(0,Math.round(V.x)-f),Z=Math.max(0,Math.round(V.y)-f),M=Math.min(n,Math.round(V.y)+f),C=Math.min(t,Math.round(V.x)+f),F=Z;F<M;F++)for(var x=k;x<C;x++){var A=F*t+x,L=v(V.x-x,V.y-F,f);(u=y[A]+=L*m)>d&&(d=u)}}}}catch(E){b.e(E)}finally{b.f()}return{matrix:y.buffer,max:d}}function h(e,r,t,i,a,u){e.canvas.width=e.canvas.height=r,e.clearRect(0,0,r,r);var l=e.getImageData(0,0,r,r);t&&i&&l.data.set(new Uint8ClampedArray(function(e,r,t,i,a){for(var u=new Uint32Array(e*e),l=("buffer"in r?r:new Float64Array(r)),o=("buffer"in t?new Uint32Array(t.buffer):new Uint32Array(new Uint8Array(t).buffer)),s=o.length/(a-i),c=0;c<l.length;c++){var f=l[c],y=Math.floor((f-i)*s);u[c]=o[(0,n.uZ)(y,0,o.length-1)]}return u.buffer}(r,t,i,a,u))),e.putImageData(l,0,0)}function v(e,r,t){var i=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))/t;return i>1?0:3/(Math.PI*Math.pow(t,2))*Math.pow(1-Math.pow(i,2),2)}function p(e,r){return"function"==typeof e?e:e?"string"==typeof r?function(r){return-1*+r[e]}:function(t){return+t[e]+r}:function(){return 1}}},47037:function(e,r,t){t.d(r,{G:function(){return d}});var i=t(1413),n=t(37762),a=t(15671),u=t(43144),l=t(11752),o=t(61120),s=t(60136),c=t(29388),f=t(64510),y=t(8548),d=function(e){(0,s.Z)(t,e);var r=(0,c.Z)(t);function t(){var e;return(0,a.Z)(this,t),(e=r.apply(this,arguments))._prevFBO=void 0,e.requiresDedicatedFBO=!1,e}return(0,u.Z)(t,[{key:"dispose",value:function(){}},{key:"doRender",value:function(e){var r=this.createRenderParams(e),t=r.context,i=r.painter,a=r.profiler;this._prevFBO=t.getBoundFramebufferObject(),a.recordContainerStart(this.name);var u=this._getFbo(r),l=i.getRenderTarget();t.bindFramebuffer(u),i.setRenderTarget(u),t.setDepthWriteEnabled(!0),t.setColorMask(!0,!0,!0,!0),t.setClearColor(0,0,0,0),t.setClearDepth(1),t.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.setDepthWriteEnabled(!1);var o,s=(0,n.Z)(this.children);try{for(s.s();!(o=s.n()).done;){o.value.beforeRender(e)}}catch(v){s.e(v)}finally{s.f()}var c,f=(0,n.Z)(this.children);try{for(f.s();!(c=f.n()).done;){c.value.processRender(r)}}catch(v){f.e(v)}finally{f.f()}var d,h=(0,n.Z)(this.children);try{for(h.s();!(d=h.n()).done;){d.value.afterRender(e)}}catch(v){h.e(v)}finally{h.f()}i.setRenderTarget(l),i.releaseFbo(u),t.bindFramebuffer(this._prevFBO),i.beforeRenderLayer(r,this._clippingInfos?255:0,this.computedOpacity),u.colorTexture&&(t.setStencilTestEnabled(!1),t.setStencilWriteMask(0),i.blitTexture(t,u.colorTexture,y.cw.NEAREST)),i.compositeLayer(r,this.computedOpacity),a.recordContainerEnd()}},{key:"createRenderParams",value:function(e){return(0,i.Z)((0,i.Z)({},(0,l.Z)((0,o.Z)(t.prototype),"createRenderParams",this).call(this,e)),{},{blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1})}},{key:"_getFbo",value:function(e){var r=e.context,t=e.painter,i=r.getViewport(),n=i.width,a=i.height;return t.acquireFbo(n,a)}}]),t}(f.Z)},60531:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var i=t(15671),n=t(43144),a=t(60136),u=t(29388),l=t(27366),o=(t(32718),t(25243),t(63780),t(93169),t(10064),t(69912)),s=t(47037),c=t(95986),f=t(40281),y=t(60354),d=t(94172),h=t(49861),v=function(e){(0,a.Z)(t,e);var r=(0,u.Z)(t);function t(e){var n;return(0,i.Z)(this,t),(n=r.call(this,e)).type="group",n.layerViews=new f.Z,n}return(0,n.Z)(t,[{key:"destroy",value:function(){this.handles.removeAll(),this.layerViews.length=0}},{key:"_allLayerViewVisibility",value:function(e){this.layerViews.forEach((function(r){r.visible=e}))}},{key:"initialize",value:function(){var e=this;this.handles.add([this.layerViews.on("change",(function(r){return e._layerViewsChangeHandler(r)})),(0,d.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.visibilityMode}),(function(){e.layer&&e._applyVisibility((function(){return e._allLayerViewVisibility(e.visible)}),(function(){return e._applyExclusiveVisibility(null)}))}),d.Z_),(0,d.YP)((function(){return e.visible}),(function(r){e._applyVisibility((function(){return e._allLayerViewVisibility(r)}),(function(){}))}),d.Z_)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}},{key:"layerViews",set:function(e){this._set("layerViews",(0,y.Z)(e,this._get("layerViews")))}},{key:"updatingProgress",get:function(){return 0===this.layerViews.length?1:this.layerViews.reduce((function(e,r){return e+r.updatingProgress}),0)/this.layerViews.length}},{key:"isUpdating",value:function(){return this.layerViews.some((function(e){return e.updating}))}},{key:"_hasLayerViewVisibleOverrides",value:function(){return this.layerViews.some((function(e){return e._isOverridden("visible")}))}},{key:"_findLayerViewForLayer",value:function(e){return e&&this.layerViews.find((function(r){return r.layer===e}))}},{key:"_firstVisibleOnLayerOrder",value:function(){var e=this,r=this.layer.layers.find((function(r){var t=e._findLayerViewForLayer(r);return!(null===t||void 0===t||!t.visible)}));return r&&this._findLayerViewForLayer(r)}},{key:"_applyExclusiveVisibility",value:function(e){null==e&&null==(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach((function(r){r.visible=r===e}))}},{key:"_layerViewsChangeHandler",value:function(e){var r=this;this.handles.remove("grouplayerview:visible"),this.handles.add(this.layerViews.map((function(e){return(0,d.YP)((function(){return e.visible}),(function(t){return r._applyVisibility((function(){t!==r.visible&&(e.visible=r.visible)}),(function(){return r._applyExclusiveVisibility(t?e:null)}))}),d.Z_)})).toArray(),"grouplayerview:visible");var t=e.added[e.added.length-1];this._applyVisibility((function(){return r._allLayerViewVisibility(r.visible)}),(function(){return r._applyExclusiveVisibility(null!==t&&void 0!==t&&t.visible?t:null)}))}},{key:"_applyVisibility",value:function(e,r){var t,i;this._hasLayerViewVisibleOverrides()&&("inherited"===(null===(t=this.layer)||void 0===t?void 0:t.visibilityMode)?e():"exclusive"===(null===(i=this.layer)||void 0===i?void 0:i.visibilityMode)&&r())}}]),t}(t(67581).Z);(0,l._)([(0,h.Cb)({cast:y.R})],v.prototype,"layerViews",null),(0,l._)([(0,h.Cb)({readOnly:!0})],v.prototype,"updatingProgress",null),(0,l._)([(0,h.Cb)()],v.prototype,"view",void 0);var p=v=(0,l._)([(0,o.j)("esri.views.layers.GroupLayerView")],v),b=function(e){(0,a.Z)(t,e);var r=(0,u.Z)(t);function t(){var e;return(0,i.Z)(this,t),(e=r.apply(this,arguments)).container=new s.G,e}return(0,n.Z)(t,[{key:"attach",value:function(){var e=this;this._updateStageChildren(),this.addAttachHandles(this.layerViews.on("after-changes",(function(){return e._updateStageChildren()})))}},{key:"detach",value:function(){this.container.removeAllChildren()}},{key:"update",value:function(e){}},{key:"moveStart",value:function(){}},{key:"viewChange",value:function(){}},{key:"moveEnd",value:function(){}},{key:"_updateStageChildren",value:function(){var e=this;this.container.removeAllChildren(),this.layerViews.forEach((function(r,t){return e.container.addChildAt(r.container,t)}))}}]),t}((0,c.y)(p)),w=b=(0,l._)([(0,o.j)("esri.views.2d.layers.GroupLayerView2D")],b)}}]);
//# sourceMappingURL=7589.526555ce.chunk.js.map